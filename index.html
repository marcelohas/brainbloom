<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrainBloom - O Manifesto</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
</head>
<body>

    <div class="container">
        <header>
            <h1>üå± Manifesto #BrainBloom</h1>
            <p class="slogan">Seu c√©rebro n√£o √© um dep√≥sito.<br>
            √â um jardim.</p><br>
        </header>

        <main>
            <section id="problema">
                <h2>O Solo Exausto</h2><br>
                <p>Vivemos o tempo do excesso.<br>
                Do est√≠mulo cont√≠nuo, que nos afasta:<br>
                do sil√™ncio que gera pensamento,<br>
                do t√©dio que desperta criatividade,<br>
                da presen√ßa que constr√≥i v√≠nculo.</p><br>
                <p>Rolagens infinitas.<br>
                Cliques sem pausa. <br>
                Sons que n√£o cessam.<br>
                A dopamina distrai e a mente congestiona.<br>
                Os olhos, cansados de luz, pedem profundidade.</p><br>
            </section>

            <section id="solucao">
                <h2>A Semente da Mudan√ßa</h2>
                <p class="emphasis">Basta!</p>
                <p>Basta alimentar algoritmos que esvaziam a alma.<br>
                Basta de um consumo passivo.<br>
                De um conte√∫do abusivo.<br>
                Chega de insignific√¢ncias em nossas inf√¢ncias.</p><br>
                <p>√â hora de cuidar da mente!<br>
                Reconhecer-se inteligente.<br>
                Vibrar o sil√™ncio f√©rtil.<br>
                Acolher empatia para colher alegria.</p><br>
                <p>Por uma tecnologia onde <br>
                cada ideia pode ser plantada com inten√ß√£o, <br>
                cada momento compartilhado com sentimento, <br>
                cada conhecimento cultivado com profundidade.<br> 
                Que cada tela seja solo. <br>
                Que cada clique seja escolha. <br>
               Que cada mente seja jardim.</p> <br>
                <p>Nosso c√©rebro n√£o √© dep√≥sito de est√≠mulos.<br>
                √â um espa√ßo sagrado de cultivo.<br>
                √â terra boa, que merece conte√∫dos com prop√≥sito.<br>
                Queremos florir.<br>
                Queremos ra√≠zes. <br>
                Queremos sentido.<br></p>
            </section>

            <section id="acao">
                <h2>O Cultivo Coletivo</h2>
                <p><strong>#BrainBloom</strong> nasce como um movimento, um chamado, uma oportunidade, uma semente de mudan√ßa e esperan√ßa.</p>
                <p>Convida <strong>pais, professores, estudantes, criadores e fam√≠lias</strong> a cultivarem juntos um novo jeito de existir nas redes.</p>
                <p>E convocamos os <strong>arquitetos do mundo digital:</strong> designers, engenheiros e l√≠deres de tecnologia. Criem plataformas que sirvam √† mente, n√£o que a explorem. Projetem ferramentas que promovam o foco, n√£o a fragmenta√ß√£o. Ajudem-nos a transformar cada tela em solo f√©rtil.</p>
                <p>Juntos, podemos criar um ecossistema que honra o pensamento cr√≠tico, a curiosidade, o sil√™ncio f√©rtil e a criatividade que constr√≥i ‚Äî n√£o que vicia.</p>
                
                <div class="subscription-section">
                    <h3>Assine o Manifesto #BrainBloom</h3>
                    <p class="subscription-description">Junte-se ao movimento por uma internet mais consciente e significativa.</p>
                    <button id="subscribeBtn" class="subscribe-btn">üå± Assinar</button>
                    <div id="subscriberCount" class="subscriber-count" style="display: none;">
                        <span class="count-number" id="countNumber">0</span>
                        <span class="count-label">assinantes</span>
                    </div>
                </div>
                
                <h3>Como come√ßar a cultivar?</h3>
                <ul class="actions-list">
                    <li>Plante com prop√≥sito: Use <strong>#BrainBloom</strong> sempre que criar ou compartilhar algo que estimule o pensar, o criar e o sentir.</li>
                    <li>Cultive o sil√™ncio: Reserve momentos do dia sem telas, sem sons, apenas voc√™ e seus pensamentos.</li>
                    <li>Escolha com consci√™ncia: Antes de abrir uma rede social, pergunte-se: "O que estou buscando? Isso vai nutrir minha mente?"</li>
                    <li>Compartilhe com inten√ß√£o: Publique apenas o que tem valor real para quem vai ler.</li>
                    <li>Eduque com amor: Se voc√™ √© pai, m√£e ou educador, seja o exemplo da mudan√ßa que quer ver.</li>
                </ul>
            </section>
        </main>

        <footer>
            <p>Porque o c√©rebro √© solo f√©rtil.</p>
            <p class="final-call">E o futuro √© o que a gente cultiva agora.</p>
            
            <div class="supporter-signup">
                <h3 class="form-title">Torne-se um Apoiador</h3>
                <p class="signup-subtitle">√â gratuito! Apoiadores t√™m seus contatos inclu√≠dos no rodap√© da p√°gina</p>
                
                <form id="manifestoForm" class="manifesto-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nome">Nome *</label>
                            <input type="text" id="nome" name="nome" required placeholder="Seu nome">
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email *</label>
                            <input type="email" id="email" name="email" required placeholder="seu@email.com">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="redeSocial">Rede Social</label>
                        <input type="text" id="redeSocial" name="redeSocial" placeholder="LinkedIn, Instagram, etc.">
                    </div>
                    
                    <button type="submit" class="manifesto-btn">ü§ù Quero Apoiar</button>
                </form>
            </div>
            
            <!-- Se√ß√£o de Apoiadores -->
            <div class="supporters-section">
                <h3 class="supporters-title">ü§ù Apoiadores do Movimento</h3>
                <p class="supporters-subtitle">Pessoas e organiza√ß√µes que acreditam em uma internet mais consciente</p>
                
                <div class="supporters-grid">
                    <div class="supporter-item">
                        <h4>üåê Parceiro Educacional</h4>
                        <a href="https://zuedu.com.br" target="_blank" rel="noopener noreferrer" class="supporter-link">
                            zuedu.com.br
                        </a>
                        <p class="supporter-description">Plataforma educacional comprometida com o aprendizado significativo</p>
                    </div>
                    
                    <div class="supporter-item">
                        <h4>üë• Lideran√ßas do Movimento</h4>
                        <div class="linkedin-links">
                            <a href="https://www.linkedin.com/in/tcheloparaprofessores/" target="_blank" rel="noopener noreferrer" class="linkedin-link">
                                <span class="linkedin-icon">üíº</span> Tchelo para Professores
                            </a>
                            <a href="https://www.linkedin.com/in/ana-cl%C3%A1udia-de-s%C3%A1-e-bruni-51873534/" target="_blank" rel="noopener noreferrer" class="linkedin-link">
                                <span class="linkedin-icon">üíº</span> Ana Cl√°udia de S√° e Bruni
                            </a>
                            <a href="https://www.linkedin.com/in/melina-barrionuevo-veiga-lentini-80314a14a/" target="_blank" rel="noopener noreferrer" class="linkedin-link">
                                <span class="linkedin-icon">üíº</span> Melina Barrionuevo Veiga Lentini
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="join-supporters">
                    <p class="join-text">Quer apoiar o movimento #BrainBloom?</p>
                    <p class="join-subtitle">Entre em contato conosco para saber como participar</p>
                </div>
            </div>
            
            <p class="final-hashtag">#BrainBloom</p>
        </footer>
    </div>

    <script>
        // Inicializa o EmailJS
        emailjs.init("HR9hR7u0QCa_COjQM");
        
        // Sistema de contador global com Firebase Realtime Database
        class GlobalCounter {
            constructor() {
                this.count = 0;
                this.storageKey = 'brainbloom-global-counter';
                this.clickKey = 'brainbloom-clicked';
                this.initialCount = 2005;
                this.hasClicked = false;
                this.firebaseConfig = {
                    apiKey: "AIzaSyC-Chm39n3nSOz4ia-eH8yMxYX89n3Ty6w",
                    authDomain: "brainbloom-counter.firebaseapp.com",
                    databaseURL: "https://brainbloom-counter-default-rtdb.firebaseio.com",
                    projectId: "brainbloom-counter",
                    storageBucket: "brainbloom-counter.firebasestorage.app",
                    messagingSenderId: "1024530222625",
                    appId: "1:1024530222625:web:a9f85283e81e86543bdd60",
                    measurementId: "G-JZ86367DBT"
                };
                this.db = null;
                this.counterRef = null;
                this.init();
            }
            
            async init() {
                try {
                    // Inicializa Firebase
                    await this.initFirebase();
                    
                    // Carrega estado local
                    this.loadLocalState();
                    
                    // Configura listeners
                    this.setupEventListeners();
                    
                    // Sincroniza com Firebase
                    await this.syncWithFirebase();
                    
                    // Exibe contador
                    this.displayCounter();
                    
                    console.log('‚úÖ Sistema inicializado com sucesso');
                    
                } catch (error) {
                    console.log('‚ö†Ô∏è Erro na inicializa√ß√£o:', error.message);
                    // Fallback para modo offline
                    this.loadLocalState();
                    this.setupEventListeners();
                    this.displayCounter();
                }
            }
            
            async initFirebase() {
                try {
                    // Carrega Firebase dinamicamente
                    if (!window.firebase) {
                        await this.loadFirebaseScripts();
                    }
                    
                    // Inicializa Firebase
                    const app = window.firebase.initializeApp(this.firebaseConfig);
                    const database = window.getDatabase(app);
                    
                    // Cria refer√™ncia para o contador
                    this.counterRef = window.firebaseRef(database, 'counter');
                    
                    console.log('‚úÖ Firebase inicializado');
                    
                } catch (error) {
                    throw new Error(`Firebase n√£o dispon√≠vel: ${error.message}`);
                }
            }
            
            loadFirebaseScripts() {
                return new Promise((resolve, reject) => {
                    // Carrega Firebase App v12
                    const appScript = document.createElement('script');
                    appScript.type = 'module';
                    appScript.textContent = `
                        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
                        import { getDatabase, ref, onValue, set, once } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-database.js";
                        
                        window.firebase = {
                            initializeApp,
                            database: () => ({ ref }),
                            ref,
                            onValue,
                            set,
                            once
                        };
                        window.getDatabase = getDatabase;
                        window.firebaseRef = ref;
                        window.firebaseOnValue = onValue;
                        window.firebaseSet = set;
                        window.firebaseOnce = once;
                    `;
                    appScript.onload = resolve;
                    appScript.onerror = reject;
                    document.head.appendChild(appScript);
                });
            }
            
            loadLocalState() {
                try {
                    this.hasClicked = localStorage.getItem(this.clickKey) === 'true';
                    
                    const savedCount = localStorage.getItem(this.storageKey);
                    if (savedCount) {
                        this.count = parseInt(savedCount);
                    } else {
                        this.count = this.initialCount;
                    }
                } catch (error) {
                    console.log('‚ö†Ô∏è Erro ao carregar estado local:', error.message);
                    this.count = this.initialCount;
                }
            }
            
            async syncWithFirebase() {
                if (!this.counterRef) return;
                
                try {
                    // Escuta mudan√ßas em tempo real
                    const unsubscribe = window.firebaseOnValue(this.counterRef, (snapshot) => {
                        const data = snapshot.val();
                        if (data && data.count !== undefined) {
                            const newCount = parseInt(data.count);
                            if (newCount !== this.count) {
                                this.count = newCount;
                                this.saveLocalState();
                                this.displayCounter();
                                console.log('üîÑ Contador atualizado via Firebase:', this.count);
                            }
                        }
                    });
                    
                    // Sincroniza contador atual
                    const snapshot = await window.firebaseOnce(this.counterRef);
                    const data = snapshot.val();
                    if (data && data.count !== undefined) {
                        this.count = parseInt(data.count);
                        this.saveLocalState();
                        this.displayCounter();
                    }
                    
                } catch (error) {
                    console.log('‚ö†Ô∏è Erro na sincroniza√ß√£o Firebase:', error.message);
                }
            }
            
            saveLocalState() {
                try {
                    localStorage.setItem(this.storageKey, this.count.toString());
                } catch (error) {
                    console.log('‚ö†Ô∏è Erro ao salvar estado local:', error.message);
                }
            }
            
            async increment() {
                try {
                    // Anima√ß√£o visual
                    this.animateIncrement();
                    
                    // Incrementa contador local
                    this.count++;
                    
                    // Salva localmente
                    this.saveLocalState();
                    
                    // Marca como clicado
                    if (!this.hasClicked) {
                        this.hasClicked = true;
                        localStorage.setItem(this.clickKey, 'true');
                        this.showCounter();
                    }
                    
                    // Atualiza display
                    this.displayCounter();
                    
                    // Sincroniza com Firebase (atualiza para todos os usu√°rios)
                    if (this.counterRef) {
                        await window.firebaseSet(this.counterRef, {
                            count: this.count,
                            lastUpdate: Date.now(),
                            updatedBy: this.generateUserId()
                        });
                        console.log('‚úÖ Contador sincronizado globalmente:', this.count);
                    }
                    
                } catch (error) {
                    console.log('‚ùå Erro ao incrementar:', error.message);
                    // Fallback: incrementa mesmo com erro
                    this.count++;
                    this.displayCounter();
                }
            }
            
            generateUserId() {
                // Gera ID √∫nico para o usu√°rio
                if (!localStorage.getItem('brainbloom-user-id')) {
                    const userId = 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                    localStorage.setItem('brainbloom-user-id', userId);
                }
                return localStorage.getItem('brainbloom-user-id');
            }
            
            animateIncrement() {
                const countElement = document.getElementById('countNumber');
                if (countElement) {
                    countElement.style.transform = 'scale(1.3)';
                    countElement.style.color = '#2c5b3f';
                    countElement.style.fontWeight = 'bold';
                    
                    setTimeout(() => {
                        countElement.style.transform = 'scale(1)';
                        countElement.style.color = '#333';
                        countElement.style.fontWeight = '700';
                    }, 400);
                }
            }
            
            showCounter() {
                const counterElement = document.getElementById('subscriberCount');
                if (counterElement) {
                    counterElement.style.display = 'block';
                }
            }
            
            displayCounter() {
                const countElement = document.getElementById('countNumber');
                if (countElement) {
                    countElement.textContent = this.count.toLocaleString('pt-BR');
                }
                
                // Mostra contador se j√° clicou antes
                if (this.hasClicked) {
                    this.showCounter();
                }
            }
            
            setupEventListeners() {
                const subscribeButton = document.getElementById('subscribeBtn');
                if (subscribeButton) {
                    subscribeButton.addEventListener('click', () => this.increment());
                }
            }
        }
        
        // Inicializa o contador global
        let globalCounter;
        
        // Inicializa a p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializa o contador global
            globalCounter = new GlobalCounter();
            
            // Configura o formul√°rio de manifesto
            setupManifestoForm();
        });
        
        // Configura o formul√°rio de manifesto
        function setupManifestoForm() {
            const form = document.getElementById('manifestoForm');
            if (!form) return;
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Coleta os dados do formul√°rio
                const nome = document.getElementById('nome').value;
                const email = document.getElementById('email').value;
                const redeSocial = document.getElementById('redeSocial').value;
                
                // Valida√ß√£o b√°sica
                if (!nome || !email) {
                    alert('Por favor, preencha todos os campos obrigat√≥rios.');
                    return;
                }
                
                // Desabilita o bot√£o durante o envio
                const submitBtn = form.querySelector('.manifesto-btn');
                const originalText = submitBtn.textContent;
                submitBtn.textContent = 'Enviando...';
                submitBtn.disabled = true;
                
                // Par√¢metros para o template do email
                const templateParams = {
                    to_email: 'tresamigos082005@gmail.com',
                    from_name: nome,
                    from_email: email,
                    rede_social: redeSocial || 'N√£o informado',
                    message: `Novo apoiador do Manifesto #BrainBloom!
                    
Nome: ${nome}
Email: ${email}
Rede Social: ${redeSocial || 'N√£o informado'}

Data: ${new Date().toLocaleDateString('pt-BR')}
Hora: ${new Date().toLocaleTimeString('pt-BR')}

Esta pessoa deseja apoiar o Manifesto #BrainBloom. Lembre-se de incluir o contato no rodap√© da p√°gina conforme prometido.`
                };
                
                // Envia o email usando EmailJS
                emailjs.send('service_j98pu2g', 'service_j98pu2g', templateParams)
                    .then(function(response) {
                        alert('ü§ù Obrigado por apoiar o Manifesto #BrainBloom!\n\nSeu apoio foi registrado com sucesso! Em breve seu contato ser√° inclu√≠do no rodap√© da p√°gina.');
                        form.reset();
                    }, function(error) {
                        console.error('Erro ao enviar email:', error);
                        
                        // Fallback para mailto se o EmailJS falhar
                        const assunto = encodeURIComponent('Nova Assinatura do Manifesto #BrainBloom');
                        const corpo = encodeURIComponent(templateParams.message);
                        const mailtoLink = `mailto:tresamigos082005@gmail.com?subject=${assunto}&body=${corpo}`;
                        
                        window.location.href = mailtoLink;
                        alert('ü§ù Seu cliente de email ser√° aberto para registrar seu apoio.\n\nSe n√£o abrir automaticamente, copie as informa√ß√µes e envie para: tresamigos082005@gmail.com');
                    })
                    .finally(function() {
                        // Reabilita o bot√£o
                        submitBtn.textContent = originalText;
                        submitBtn.disabled = false;
                    });
            });
        }
    </script>

</body>
</html>